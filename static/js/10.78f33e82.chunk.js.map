{"version":3,"sources":["containers/HomeTemplate/DetailMoviePage/modules/actions.js","containers/HomeTemplate/DetailMoviePage/index.js"],"names":["actDetailMovieRequest","type","ActionType","actDetailMovieSuccess","data","payload","actDetailMovieFailed","err","DetailMoviePage","dateMovie","today","Date","getDate","getMonth","getFullYear","renderTable","props","lichChieu","map","item","console","log","thongTinRap","tenCumRap","tenRap","ngayChieuGioChieu","toLocaleDateString","toLocaleTimeString","href","className","maLichChieu","this","id","match","params","fetchDetailMovie","loading","Loader","src","hinhAnh","alt","tenPhim","moTa","Component","connect","state","detailMovieReducer","dispatch","api","get","then","result","catch","actFecthDetailMovie"],"mappings":"yLAwBMA,EAAwB,WAC5B,MAAO,CACLC,KAAMC,MAIJC,EAAwB,SAACC,GAC7B,MAAO,CACLH,KAAMC,IACNG,QAASD,IAIPE,EAAuB,SAACC,GAC5B,MAAO,CACLN,KAAMC,IACNG,QAASE,I,uBCnCPC,E,4MAOJC,UAAY,WACV,IAAIC,EAAQ,IAAIC,KAOhB,OALED,EAAME,UACN,KACCF,EAAMG,WAAa,GACpB,IACAH,EAAMI,e,EAIVC,YAAc,WAAO,IAAD,EACVX,EAAS,EAAKY,MAAdZ,KACR,cAAOA,QAAP,IAAOA,GAAP,UAAOA,EAAMa,iBAAb,aAAO,EAAiBC,KAAI,SAACC,GAE3B,OADAC,QAAQC,IAAIF,GAEV,+BACE,6BAAKA,EAAKG,YAAYC,YACtB,6BAAKJ,EAAKG,YAAYE,SACtB,6BAAK,IAAIb,KAAKQ,EAAKM,mBAAmBC,uBACtC,6BAAK,IAAIf,KAAKQ,EAAKM,mBAAmBE,uBACtC,6BACE,mBAAGC,KAAK,UAAUC,UAAU,kBAA5B,qCANKV,EAAKW,iB,uDAtBpB,WACEV,QAAQC,IAAIU,KAAKf,OAEjB,IAAMgB,EAAKD,KAAKf,MAAMiB,MAAMC,OAAOF,GACnCD,KAAKf,MAAMmB,iBAAiBH,K,oBAiC9B,WACE,MAA0BD,KAAKf,MAAvBoB,EAAR,EAAQA,QAAShC,EAAjB,EAAiBA,KACjB,OAAIgC,EAAgB,cAACC,EAAA,EAAD,IAElB,sBAAKR,UAAU,YAAf,UACE,iDACA,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,WAAf,SACE,qBAAKA,UAAU,YAAYS,IAAKlC,GAAQA,EAAKmC,QAASC,IAAI,OAE5D,qBAAKX,UAAU,WAAf,SACE,uBAAOA,UAAU,QAAjB,SACE,kCACE,+BACE,6CACA,6BAAKzB,GAAQA,EAAKqC,aAEpB,+BACE,+CACA,6BAAKrC,GAAQA,EAAKsC,oBAM5B,qBAAKb,UAAU,MAAf,SACE,qBAAKA,UAAU,YAAf,SACE,wBAAOA,UAAU,QAAjB,UACE,gCACE,+BACE,mDACA,iDACA,oDACA,0DAGJ,gCAAQE,KAAKhB,8B,GA1EG4B,aAkGfC,uBAfS,SAACC,GACvB,MAAO,CACLT,QAASS,EAAMC,mBAAmBV,QAClChC,KAAMyC,EAAMC,mBAAmB1C,SAIR,SAAC2C,GAC1B,MAAO,CACLZ,iBAAkB,SAACH,GACjBe,ED/F6B,SAACf,GAClC,OAAO,SAACe,GAENA,EAAS/C,KAKTgD,IACGC,IADH,4CAC4CjB,IACzCkB,MAAK,SAACC,GAELJ,EAAS5C,EAAsBgD,EAAO/C,UAEvCgD,OAAM,SAAC7C,GAENwC,EAASzC,EAAqBC,QC+EvB8C,CAAoBrB,QAKpBY,CAA6CpC","file":"static/js/10.78f33e82.chunk.js","sourcesContent":["import * as ActionType from \"./contants\";\n\nimport api from \"./../../../../utils/apiUtils\";\nexport const actFecthDetailMovie = (id) => {\n  return (dispatch) => {\n    //request\n    dispatch(actDetailMovieRequest());\n    // axios({\n    //     url: `https://movie0706.cybersoft.edu.vn/api/QuanLyPhim/LayThongTinPhim?MaPhim=${id}`,\n    //     method: \"GET\",\n    // })\n    api\n      .get(`QuanLyPhim/LayThongTinPhim?MaPhim=${id}`)\n      .then((result) => {\n        //success\n        dispatch(actDetailMovieSuccess(result.data));\n      })\n      .catch((err) => {\n        //failed\n        dispatch(actDetailMovieFailed(err));\n      });\n  };\n};\n\nconst actDetailMovieRequest = () => {\n  return {\n    type: ActionType.DETAIL_MOVIE_REQUEST,\n  };\n};\n\nconst actDetailMovieSuccess = (data) => {\n  return {\n    type: ActionType.DETAIL_MOVIE_SUCCESS,\n    payload: data,\n  };\n};\n\nconst actDetailMovieFailed = (err) => {\n  return {\n    type: ActionType.DETAIL_MOVIE_FAILED,\n    payload: err,\n  };\n};\n","import React, { Component } from \"react\";\nimport { actFecthDetailMovie } from \"./modules/actions\";\nimport { connect } from \"react-redux\";\nimport Loader from \"./../../../components/Loader\";\n\nclass DetailMoviePage extends Component {\n  componentDidMount() {\n    console.log(this.props)\n    //Nhận lại id từ url\n    const id = this.props.match.params.id;\n    this.props.fetchDetailMovie(id);\n  }\n  dateMovie = () => {\n    let today = new Date();\n    let date =\n      today.getDate() +\n      \"-\" +\n      (today.getMonth() + 1) +\n      \"-\" +\n      today.getFullYear();\n    return date;\n  };\n\n  renderTable = () => {\n    const { data } = this.props;\n    return data?.lichChieu?.map((item) => {\n      console.log(item)\n      return (\n        <tr key={item.maLichChieu}>\n          <td>{item.thongTinRap.tenCumRap}</td>\n          <td>{item.thongTinRap.tenRap}</td>\n          <td>{new Date(item.ngayChieuGioChieu).toLocaleDateString()}</td>\n          <td>{new Date(item.ngayChieuGioChieu).toLocaleTimeString()}</td>\n          <td>\n            <a href=\"#dat-ve\" className=\"btn btn-success\">\n              Đặt vé\n            </a>\n          </td>\n        </tr>\n      );\n    });\n  };\n\n  render() {\n    const { loading, data } = this.props;\n    if (loading) return <Loader />;\n    return (\n      <div className=\"container\">\n        <h3>DetailMoviePage</h3>\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <img className=\"img-fluid\" src={data && data.hinhAnh} alt=\"\" />\n          </div>\n          <div className=\"col-md-6\">\n            <table className=\"table\">\n              <tbody>\n                <tr>\n                  <td>Têm phim</td>\n                  <td>{data && data.tenPhim}</td>\n                </tr>\n                <tr>\n                  <td>Mô tả</td>\n                  <td>{data && data.moTa}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <table className=\"table\">\n              <thead>\n                <tr>\n                  <th>Cụm rạp</th>\n                  <th>Tên rạp</th>\n                  <th>Ngày chiếu</th>\n                  <th>Giờ chiếu</th>\n                </tr>\n              </thead>\n              <tbody>{this.renderTable()}</tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    loading: state.detailMovieReducer.loading,\n    data: state.detailMovieReducer.data,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchDetailMovie: (id) => {\n      dispatch(actFecthDetailMovie(id));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DetailMoviePage);\n"],"sourceRoot":""}